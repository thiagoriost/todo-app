<header class="app-header" role="banner">
  <div class="container">
    <div class="header-content">
      <h1>ğŸ“ ToDoApp</h1>
      <div class="header-actions">
        <button
          class="theme-toggle"
          (click)="themeService.toggleTheme()"
          [attr.aria-label]="themeService.isDarkMode() ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'"
          type="button"
          title="{{ themeService.isDarkMode() ? 'Modo Claro' : 'Modo Oscuro' }}">
          <span class="theme-icon">
            {{ themeService.isDarkMode() ? 'â˜€ï¸' : 'ğŸŒ™' }}
          </span>
        </button>
        <button
          class="menu-toggle"
          (click)="toggleMenu()"
          [attr.aria-expanded]="uiState.menuOpen()"
          aria-label="Toggle menu"
          type="button">
          <span class="hamburger" [class.open]="uiState.menuOpen()">
            <span></span>
            <span></span>
            <span></span>
          </span>
        </button>
      </div>
    </div>

    <!-- Overlay para cerrar menÃº al hacer click fuera -->
    @if (uiState.menuOpen()) {
      <div class="menu-overlay" (click)="toggleMenu()"></div>
    }

    @if (uiState.isMobile() != true || uiState.menuOpen()) {
      <nav
        class="nav"
        [class.open]="uiState.menuOpen()"
        role="navigation"
        aria-label="NavegaciÃ³n principal">
        <a (click)="navigateToTasks()"
           [class.active]="isRouteActive('/tasks')"
           aria-label="Ver tareas"
           role="button"
           tabindex="0">
          <span class="icon">ğŸ“‹</span>
          <span class="text">Tareas</span>
        </a>
        <a (click)="navigateToNewTask()"
           [class.active]="isRouteActive('/tasks/new')"
           aria-label="Crear nueva tarea"
           role="button"
           tabindex="0">
          <span class="icon">â•</span>
          <span class="text">Nueva</span>
        </a>
        <a (click)="navigateToCategories()"
           [class.active]="isRouteActive('/categories')"
           aria-label="Gestionar categorÃ­as"
           role="button"
           tabindex="0">
          <span class="icon">ğŸ·ï¸</span>
          <span class="text">CategorÃ­as</span>
        </a>
        <a (click)="navigateToHistory()"
           [class.active]="isRouteActive('/history')"
           aria-label="Ver historial de cambios"
           role="button"
           tabindex="0">
          <span class="icon">ğŸ“œ</span>
          <span class="text">Historial</span>
        </a>
      </nav>
    }
  </div>
</header>

<main class="app-main" role="main">
  <div class="container">
    <router-outlet></router-outlet>
  </div>
</main>

<footer class="app-footer" role="contentinfo">
  <div class="container">
    <p>&copy; 2026 ToDoApp by RigobertoRios 3106777777</p>
  </div>
</footer>
